SELECT

-- PersonId to match with all View's // tblStudent
	tS.serviceTblPerson AS TblPerson_Id,
	tS.Id AS TblStudent_Id,
-- tblStudentBaptism
    tSB.Location AS TblStudentBaptism_Location,
	DATE_FORMAT( tSB.BaptismDate, '%d.%m.%Y' ) AS TblStudentBaptism_BaptismDate,
-- tblStudentLocker
	tSL.LockerNumber AS TblStudentLocker_LockerNumber,
	tSL.LockerLocation AS TblStudentLocker_LockerLocation,
	tSL.KeyNumber AS TblStudentLocker_KeyNumber,
-- tblStudentMedicalRecord
	tSMR.Disease AS TblStudentMedicalRecord_Disease,
	tSMR.Medication AS TblStudentMedicalRecord_Medication,
	tSMR.InsuranceState AS TblStudentMedicalRecord_InsuranceState,
	tSMR.Insurance AS TblStudentMedicalRecord_Insurance,
-- tblStudentTransport
	tST.Route AS TblStudentTransport_Route,
	tST.StationEntrance AS TblStudentTransport_StationEntrance,
	tST.StationExit AS TblStudentTransport_StationExit,
	tST.Remark AS TblStudentTransport_Remark,
    (SELECT DISTINCT
		group_concat(
			concat(
				tSAT.Name
			) SEPARATOR ', \n'
		)
-- follow content is merged (select result)
	FROM PeopleMeta_REF.tblStudentAgreement tSA
		LEFT JOIN PeopleMeta_REF.tblStudentAgreementType tSAT ON tSAT.Id = tSA.tblStudentAgreementType
		LEFT JOIN PeopleMeta_REF.tblStudentAgreementCategory tSAC ON tSAC.Id = tSAT.tblStudentAgreementCategory
	WHERE tSAC.Name LIKE '%Foto%'
		AND tSA.tblStudent = tS.Id
		AND tSAT.Name IS NOT NULL
        AND tSA.EntityRemove IS NULL
	) TblStudent_PictureAgreement,
	(SELECT DISTINCT
		group_concat(
			concat(
				tSAT.Name
			) SEPARATOR ', \n'
		)
	FROM PeopleMeta_REF.tblStudentAgreement tSA
		LEFT JOIN PeopleMeta_REF.tblStudentAgreementType tSAT ON tSAT.Id = tSA.tblStudentAgreementType
		LEFT JOIN PeopleMeta_REF.tblStudentAgreementCategory tSAC ON tSAC.Id = tSAT.tblStudentAgreementCategory
	WHERE tSAC.Name LIKE '%Namentliche%'
		AND tSA.tblStudent = tS.Id
		AND tSAT.Name IS NOT NULL
        AND tSA.EntityRemove IS NULL
	) TblStudent_NameAgreement,
	(SELECT tSLT.Name
	FROM PeopleMeta_REF.tblStudentLiberation tSL
		LEFT JOIN PeopleMeta_REF.tblStudentLiberationType tSLT ON tSLT.Id = tSL.tblStudentLiberationType
		LEFT JOIN PeopleMeta_REF.tblStudentLiberationCategory tSLC ON tSLC.Id = tSLT.tblStudentLiberationCategory
	WHERE tSLC.Name LIKE 'Sportbefreiung'
		AND tSL.tblStudent = tS.Id
        AND tSL.EntityRemove IS NULL
		LIMIT 1
	) TblStudentLiberationSportType_Name

FROM PeopleMeta_REF.tblStudent tS
	LEFT JOIN PeopleMeta_REF.tblStudentBaptism tSB ON tSB.Id = tS.tblStudentBaptism
	LEFT JOIN PeopleMeta_REF.tblStudentLocker tSL ON tSL.Id = tS.tblStudentLocker
	LEFT JOIN PeopleMeta_REF.tblStudentMedicalRecord tSMR ON tSMR.Id = tS.tblStudentMedicalRecord
	LEFT JOIN PeopleMeta_REF.tblStudentTransport tST ON tST.Id = tS.tblStudentTransport

WHERE tS.EntityRemove IS NULL